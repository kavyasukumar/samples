// https://github.com/topojson/topojson Version 2.2.0. Copyright 2016 Mike Bostock.
(function(n,r)***REMOVED***"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(n.topojson=n.topojson||***REMOVED******REMOVED***)***REMOVED***)(this,function(n)***REMOVED***"use strict";function r(n,r,e,o)***REMOVED***t(n,r,e),t(n,r,r+o),t(n,r+o,e)***REMOVED***function t(n,r,t)***REMOVED***for(var e,o=r+(t-- -r>>1);r<o;++r,--t)e=n[r],n[r]=n[t],n[t]=e***REMOVED***function e(n)***REMOVED***return(n&&U.hasOwnProperty(n.type)?U[n.type]:a)(n)***REMOVED***function o(n)***REMOVED***var r=n.geometry;return null==r?n.type=null:(a(r),n.type=r.type,r.geometries?n.geometries=r.geometries:r.coordinates&&(n.coordinates=r.coordinates),r.bbox&&(n.bbox=r.bbox)),delete n.geometry,n***REMOVED***function a(n)***REMOVED***return n?(z.hasOwnProperty(n.type)&&z[n.type](n),n):***REMOVED***type:null***REMOVED******REMOVED***function i(n)***REMOVED***var r,t=n[0],e=n[1];return e<t&&(r=t,t=e,e=r),t+31*e***REMOVED***function c(n,r)***REMOVED***var t,e=n[0],o=n[1],a=r[0],i=r[1];return o<e&&(t=e,e=o,o=t),i<a&&(t=a,a=i,i=t),e===a&&o===i***REMOVED***function u()***REMOVED***return!0***REMOVED***function f(n)***REMOVED***return n***REMOVED***function l(n)***REMOVED***return null!=n.type***REMOVED***function s(n,r)***REMOVED***var t=r.id,e=r.bbox,o=null==r.properties?***REMOVED******REMOVED***:r.properties,a=h(n,r);return null==t&&null==e?***REMOVED***type:"Feature",properties:o,geometry:a***REMOVED***:null==e?***REMOVED***type:"Feature",id:t,properties:o,geometry:a***REMOVED***:***REMOVED***type:"Feature",id:t,bbox:e,properties:o,geometry:a***REMOVED******REMOVED***function h(n,r)***REMOVED***function t(n,r)***REMOVED***r.length&&r.pop();for(var t=f[n<0?~n:n],e=0,o=t.length;e<o;++e)r.push(u(t[e].slice(),e));n<0&&Q(r,o)***REMOVED***function e(n)***REMOVED***return u(n.slice())***REMOVED***function o(n)***REMOVED***for(var r=[],e=0,o=n.length;e<o;++e)t(n[e],r);return r.length<2&&r.push(r[0].slice()),r***REMOVED***function a(n)***REMOVED***for(var r=o(n);r.length<4;)r.push(r[0].slice());return r***REMOVED***function i(n)***REMOVED***return n.map(a)***REMOVED***function c(n)***REMOVED***var r,t=n.type;switch(t)***REMOVED***case"GeometryCollection":return***REMOVED***type:t,geometries:n.geometries.map(c)***REMOVED***;case"Point":r=e(n.coordinates);break;case"MultiPoint":r=n.coordinates.map(e);break;case"LineString":r=o(n.arcs);break;case"MultiLineString":r=n.arcs.map(o);break;case"Polygon":r=i(n.arcs);break;case"MultiPolygon":r=n.arcs.map(i);break;default:return null***REMOVED***return***REMOVED***type:t,coordinates:r***REMOVED******REMOVED***var u=J(n),f=n.arcs;return c(r)***REMOVED***function g(n,r,t)***REMOVED***var e,o,a;if(arguments.length>1)e=v(n,r,t);else for(o=0,e=new Array(a=n.arcs.length);o<a;++o)e[o]=o;return***REMOVED***type:"MultiLineString",arcs:Y(n,e)***REMOVED******REMOVED***function v(n,r,t)***REMOVED***function e(n)***REMOVED***var r=n<0?~n:n;(l[r]||(l[r]=[])).push(***REMOVED***i:n,g:u***REMOVED***)***REMOVED***function o(n)***REMOVED***n.forEach(e)***REMOVED***function a(n)***REMOVED***n.forEach(o)***REMOVED***function i(n)***REMOVED***n.forEach(a)***REMOVED***function c(n)***REMOVED***switch(u=n,n.type)***REMOVED***case"GeometryCollection":n.geometries.forEach(c);break;case"LineString":o(n.arcs);break;case"MultiLineString":case"Polygon":a(n.arcs);break;case"MultiPolygon":i(n.arcs)***REMOVED******REMOVED***var u,f=[],l=[];return c(r),l.forEach(null==t?function(n)***REMOVED***f.push(n[0].i)***REMOVED***:function(n)***REMOVED***t(n[0].g,n[n.length-1].g)&&f.push(n[0].i)***REMOVED***),f***REMOVED***function p(n)***REMOVED***for(var r,t=-1,e=n.length,o=n[e-1],a=0;++t<e;)r=o,o=n[t],a+=r[0]*o[1]-r[1]*o[0];return Math.abs(a)***REMOVED***function y(n,r)***REMOVED***function t(n)***REMOVED***switch(n.type)***REMOVED***case"GeometryCollection":n.geometries.forEach(t);break;case"Polygon":e(n.arcs);break;case"MultiPolygon":n.arcs.forEach(e)***REMOVED******REMOVED***function e(n)***REMOVED***n.forEach(function(r)***REMOVED***r.forEach(function(r)***REMOVED***(a[r=r<0?~r:r]||(a[r]=[])).push(n)***REMOVED***)***REMOVED***),i.push(n)***REMOVED***function o(r)***REMOVED***return p(h(n,***REMOVED***type:"Polygon",arcs:[r]***REMOVED***).coordinates[0])***REMOVED***var a=***REMOVED******REMOVED***,i=[],c=[];return r.forEach(t),i.forEach(function(n)***REMOVED***if(!n._)***REMOVED***var r=[],t=[n];for(n._=1,c.push(r);n=t.pop();)r.push(n),n.forEach(function(n)***REMOVED***n.forEach(function(n)***REMOVED***a[n<0?~n:n].forEach(function(n)***REMOVED***n._||(n._=1,t.push(n))***REMOVED***)***REMOVED***)***REMOVED***)***REMOVED******REMOVED***),i.forEach(function(n)***REMOVED***delete n._***REMOVED***),***REMOVED***type:"MultiPolygon",arcs:c.map(function(r)***REMOVED***var t,e=[];if(r.forEach(function(n)***REMOVED***n.forEach(function(n)***REMOVED***n.forEach(function(n)***REMOVED***a[n<0?~n:n].length<2&&e.push(n)***REMOVED***)***REMOVED***)***REMOVED***),e=Y(n,e),(t=e.length)>1)for(var i,c,u=1,f=o(e[0]);u<t;++u)(i=o(e[u]))>f&&(c=e[0],e[0]=e[u],e[u]=c,f=i);return e***REMOVED***)***REMOVED******REMOVED***function d(n)***REMOVED***var r=n[0],t=n[1],e=n[2];return Math.abs((r[0]-e[0])*(t[1]-r[1])-(r[0]-t[0])*(e[1]-r[1]))***REMOVED***function m(n)***REMOVED***for(var r,t=-1,e=n.length,o=n[e-1],a=0;++t<e;)r=o,o=n[t],a+=r[0]*o[1]-r[1]*o[0];return Math.abs(a)/2***REMOVED***function b(n,r)***REMOVED***return n[1][2]-r[1][2]***REMOVED***function E(n,r)***REMOVED***if(t=n.length)***REMOVED***if((r=+r)<=0||t<2)return n[0];if(r>=1)return n[t-1];var t,e=(t-1)*r,o=Math.floor(e),a=n[o],i=n[o+1];return a+(i-a)*(e-o)***REMOVED******REMOVED***function M(n,r)***REMOVED***return r-n***REMOVED***function P(n,r)***REMOVED***if(!n.length)return 0;var t,e,o,a,i,c,u,f=0,l=n[0],s=l[0]*gn,h=(l[1]*gn+sn)/2,g=dn(h),v=bn(h);for(i=1,c=n.length;i<c;++i)l=n[i],t=s,s=l[0]*gn,e=s-t,h=(l[1]*gn+sn)/2,o=g,g=dn(h),a=v,v=bn(h),u=a*v,f+=yn(u*bn(e),o*g+u*dn(e));return f=2*(f>ln?f-sn:f<-ln?f+sn:f),r&&(f*=-1),f<0?f+hn:f***REMOVED***function w(n)***REMOVED***var r=n[0][0]*gn,t=n[0][1]*gn,e=dn(t),o=bn(t),a=n[1][0]*gn,i=n[1][1]*gn,c=dn(i),u=bn(i),f=n[2][0]*gn,l=n[2][1]*gn,s=dn(l),h=bn(l),g=k(r,e,o,a,c,u),v=k(a,c,u,f,s,h),p=k(f,s,h,r,e,o),y=(g+v+p)/2;return 4*pn(En(mn(0,Mn(y/2)*Mn((y-g)/2)*Mn((y-v)/2)*Mn((y-p)/2))))***REMOVED***function k(n,r,t,e,o,a)***REMOVED***var i=vn(e-n),c=dn(i),u=bn(i),f=a*u,l=t*o-r*a*c,s=r*o+t*a*c;return yn(En(f*f+l*l),s)***REMOVED***var x=function(n)***REMOVED***function r(n)***REMOVED***n&&f.hasOwnProperty(n.type)&&f[n.type](n)***REMOVED***function t(n)***REMOVED***var r=n[0],t=n[1];r<a&&(a=r),r>c&&(c=r),t<i&&(i=t),t>u&&(u=t)***REMOVED***function e(n)***REMOVED***n.forEach(t)***REMOVED***function o(n)***REMOVED***n.forEach(e)***REMOVED***var a=1/0,i=1/0,c=-(1/0),u=-(1/0),f=***REMOVED***GeometryCollection:function(n)***REMOVED***n.geometries.forEach(r)***REMOVED***,Point:function(n)***REMOVED***t(n.coordinates)***REMOVED***,MultiPoint:function(n)***REMOVED***n.coordinates.forEach(t)***REMOVED***,LineString:function(n)***REMOVED***e(n.coordinates)***REMOVED***,MultiLineString:function(n)***REMOVED***n.coordinates.forEach(e)***REMOVED***,Polygon:function(n)***REMOVED***n.coordinates.forEach(e)***REMOVED***,MultiPolygon:function(n)***REMOVED***n.coordinates.forEach(o)***REMOVED******REMOVED***;for(var l in n)r(n[l]);return c>=a&&u>=i?[a,i,c,u]:void 0***REMOVED***,A=function(n,r,t,e,o)***REMOVED***function a(e)***REMOVED***for(var a=r(e)&f,i=u[a],c=0;i!=o;)***REMOVED***if(t(i,e))return!0;if(++c>=n)throw new Error("full hashset");i=u[a=a+1&f]***REMOVED***return u[a]=e,!0***REMOVED***function i(e)***REMOVED***for(var a=r(e)&f,i=u[a],c=0;i!=o;)***REMOVED***if(t(i,e))return!0;if(++c>=n)break;i=u[a=a+1&f]***REMOVED***return!1***REMOVED***function c()***REMOVED***for(var n=[],r=0,t=u.length;r<t;++r)***REMOVED***var e=u[r];e!=o&&n.push(e)***REMOVED***return n***REMOVED***3===arguments.length&&(e=Array,o=null);for(var u=new e(n=1<<Math.max(4,Math.ceil(Math.log(n)/Math.LN2))),f=n-1,l=0;l<n;++l)u[l]=o;return***REMOVED***add:a,has:i,values:c***REMOVED******REMOVED***,L=function(n,r,t,e,o,a)***REMOVED***function i(e,a)***REMOVED***for(var i=r(e)&h,c=l[i],u=0;c!=o;)***REMOVED***if(t(c,e))return s[i]=a;if(++u>=n)throw new Error("full hashmap");c=l[i=i+1&h]***REMOVED***return l[i]=e,s[i]=a,a***REMOVED***function c(e,a)***REMOVED***for(var i=r(e)&h,c=l[i],u=0;c!=o;)***REMOVED***if(t(c,e))return s[i];if(++u>=n)throw new Error("full hashmap");c=l[i=i+1&h]***REMOVED***return l[i]=e,s[i]=a,a***REMOVED***function u(e,a)***REMOVED***for(var i=r(e)&h,c=l[i],u=0;c!=o;)***REMOVED***if(t(c,e))return s[i];if(++u>=n)break;c=l[i=i+1&h]***REMOVED***return a***REMOVED***function f()***REMOVED***for(var n=[],r=0,t=l.length;r<t;++r)***REMOVED***var e=l[r];e!=o&&n.push(e)***REMOVED***return n***REMOVED***3===arguments.length&&(e=a=Array,o=null);for(var l=new e(n=1<<Math.max(4,Math.ceil(Math.log(n)/Math.LN2))),s=new a(n),h=n-1,g=0;g<n;++g)l[g]=o;return***REMOVED***set:i,maybeSet:c,get:u,keys:f***REMOVED******REMOVED***,S=function(n,r)***REMOVED***return n[0]===r[0]&&n[1]===r[1]***REMOVED***,C=new ArrayBuffer(16),_=new Float64Array(C),j=new Uint32Array(C),G=function(n)***REMOVED***_[0]=n[0],_[1]=n[1];var r=j[0]^j[1];return r=r<<5^r>>7^j[2]^j[3],2147483647&r***REMOVED***,I=function(n)***REMOVED***function r(n,r,t,e)***REMOVED***if(v[t]!==n)***REMOVED***v[t]=n;var o=p[t];if(o>=0)***REMOVED***var a=y[t];o===r&&a===e||o===e&&a===r||(++m,d[t]=1)***REMOVED***else p[t]=r,y[t]=e***REMOVED******REMOVED***function t()***REMOVED***for(var n=L(1.4*l.length,e,o,Int32Array,-1,Int32Array),r=new Int32Array(l.length),t=0,a=l.length;t<a;++t)r[t]=n.maybeSet(t,t);return r***REMOVED***function e(n)***REMOVED***return G(l[n])***REMOVED***function o(n,r)***REMOVED***return S(l[n],l[r])***REMOVED***var a,i,c,u,f,l=n.coordinates,s=n.lines,h=n.rings,g=t(),v=new Int32Array(l.length),p=new Int32Array(l.length),y=new Int32Array(l.length),d=new Int8Array(l.length),m=0;for(a=0,i=l.length;a<i;++a)v[a]=p[a]=y[a]=-1;for(a=0,i=s.length;a<i;++a)***REMOVED***var b=s[a],E=b[0],M=b[1];for(u=g[E],f=g[++E],++m,d[u]=1;++E<=M;)r(a,c=u,u=f,f=g[E]);++m,d[f]=1***REMOVED***for(a=0,i=l.length;a<i;++a)v[a]=-1;for(a=0,i=h.length;a<i;++a)***REMOVED***var P=h[a],w=P[0]+1,k=P[1];for(c=g[k-1],u=g[w-1],f=g[w],r(a,c,u,f);++w<=k;)r(a,c=u,u=f,f=g[w])***REMOVED***v=p=y=null;var x,C=A(1.4*m,G,S);for(a=0,i=l.length;a<i;++a)d[x=g[a]]&&C.add(l[x]);return C***REMOVED***,F=function(n)***REMOVED***var t,e,o,a=I(n),i=n.coordinates,c=n.lines,u=n.rings;for(e=0,o=c.length;e<o;++e)for(var f=c[e],l=f[0],s=f[1];++l<s;)a.has(i[l])&&(t=***REMOVED***0:l,1:f[1]***REMOVED***,f[1]=l,f=f.next=t);for(e=0,o=u.length;e<o;++e)for(var h=u[e],g=h[0],v=g,p=h[1],y=a.has(i[g]);++v<p;)a.has(i[v])&&(y?(t=***REMOVED***0:v,1:h[1]***REMOVED***,h[1]=v,h=h.next=t):(r(i,g,p,p-v),i[p]=i[g],y=!0,v=g));return n***REMOVED***,O=function(n)***REMOVED***function r(n)***REMOVED***var r,t,a,i,c,u,f,l;if(a=y.get(r=h[n[0]]))for(f=0,l=a.length;f<l;++f)if(i=a[f],e(i,n))return n[0]=i[0],void(n[1]=i[1]);if(c=y.get(t=h[n[1]]))for(f=0,l=c.length;f<l;++f)if(u=c[f],o(u,n))return n[1]=u[0],void(n[0]=u[1]);a?a.push(n):y.set(r,[n]),c?c.push(n):y.set(t,[n]),d.push(n)***REMOVED***function t(n)***REMOVED***var r,t,e,o,u;if(t=y.get(r=h[n[0]]))for(o=0,u=t.length;o<u;++o)***REMOVED***if(e=t[o],a(e,n))return n[0]=e[0],void(n[1]=e[1]);if(i(e,n))return n[0]=e[1],void(n[1]=e[0])***REMOVED***if(t=y.get(r=h[n[0]+c(n)]))for(o=0,u=t.length;o<u;++o)***REMOVED***if(e=t[o],a(e,n))return n[0]=e[0],void(n[1]=e[1]);if(i(e,n))return n[0]=e[1],void(n[1]=e[0])***REMOVED***t?t.push(n):y.set(r,[n]),d.push(n)***REMOVED***function e(n,r)***REMOVED***var t=n[0],e=r[0],o=n[1],a=r[1];if(t-o!==e-a)return!1;for(;t<=o;++t,++e)if(!S(h[t],h[e]))return!1;return!0***REMOVED***function o(n,r)***REMOVED***var t=n[0],e=r[0],o=n[1],a=r[1];if(t-o!==e-a)return!1;for(;t<=o;++t,--a)if(!S(h[t],h[a]))return!1;return!0***REMOVED***function a(n,r)***REMOVED***var t=n[0],e=r[0],o=n[1],a=r[1],i=o-t;if(i!==a-e)return!1;for(var u=c(n),f=c(r),l=0;l<i;++l)if(!S(h[t+(l+u)%i],h[e+(l+f)%i]))return!1;return!0***REMOVED***function i(n,r)***REMOVED***var t=n[0],e=r[0],o=n[1],a=r[1],i=o-t;if(i!==a-e)return!1;for(var u=c(n),f=i-c(r),l=0;l<i;++l)if(!S(h[t+(l+u)%i],h[a-(l+f)%i]))return!1;return!0***REMOVED***function c(n)***REMOVED***for(var r=n[0],t=n[1],e=r,o=e,a=h[e];++e<t;)***REMOVED***var i=h[e];(i[0]<a[0]||i[0]===a[0]&&i[1]<a[1])&&(o=e,a=i)***REMOVED***return o-r***REMOVED***var u,f,l,s,h=n.coordinates,g=n.lines,v=n.rings,p=g.length+v.length;for(delete n.lines,delete n.rings,l=0,s=g.length;l<s;++l)for(u=g[l];u=u.next;)++p;for(l=0,s=v.length;l<s;++l)for(f=v[l];f=f.next;)++p;var y=L(2*p*1.4,G,S),d=n.arcs=[];for(l=0,s=g.length;l<s;++l)***REMOVED***u=g[l];do r(u);while(u=u.next)***REMOVED***for(l=0,s=v.length;l<s;++l)if(f=v[l],f.next)***REMOVED***do r(f);while(f=f.next)***REMOVED***else t(f);return n***REMOVED***,N=function(n)***REMOVED***for(var r=n.arcs,t=-1,e=r.length;++t<e;)for(var o,a,i=r[t],c=0,u=i.length,f=i[0],l=f[0],s=f[1];++c<u;)f=i[c],o=f[0],a=f[1],i[c]=[o-l,a-s],l=o,s=a;return n***REMOVED***,q=function(n)***REMOVED***function r(n)***REMOVED***n&&f.hasOwnProperty(n.type)&&f[n.type](n)***REMOVED***function t(n)***REMOVED***for(var r=0,t=n.length;r<t;++r)u[++a]=n[r];var e=***REMOVED***0:a-t+1,1:a***REMOVED***;return i.push(e),e***REMOVED***function e(n)***REMOVED***for(var r=0,t=n.length;r<t;++r)u[++a]=n[r];var e=***REMOVED***0:a-t+1,1:a***REMOVED***;return c.push(e),e***REMOVED***function o(n)***REMOVED***return n.map(e)***REMOVED***var a=-1,i=[],c=[],u=[],f=***REMOVED***GeometryCollection:function(n)***REMOVED***n.geometries.forEach(r)***REMOVED***,LineString:function(n)***REMOVED***n.arcs=t(n.coordinates),delete n.coordinates***REMOVED***,MultiLineString:function(n)***REMOVED***n.arcs=n.coordinates.map(t),delete n.coordinates***REMOVED***,Polygon:function(n)***REMOVED***n.arcs=n.coordinates.map(e),delete n.coordinates***REMOVED***,MultiPolygon:function(n)***REMOVED***n.arcs=n.coordinates.map(o),delete n.coordinates***REMOVED******REMOVED***;for(var l in n)r(n[l]);return***REMOVED***type:"Topology",coordinates:u,lines:i,rings:c,objects:n***REMOVED******REMOVED***,T=function(n)***REMOVED***var r;for(r in n)n[r]=e(n[r]);return n***REMOVED***,U=***REMOVED***Feature:o,FeatureCollection:function(n)***REMOVED***return n.type="GeometryCollection",n.geometries=n.features,n.features.forEach(o),delete n.features,n***REMOVED******REMOVED***,z=***REMOVED***GeometryCollection:function(n)***REMOVED***for(var r=n.geometries,t=-1,e=r.length;++t<e;)r[t]=a(r[t])***REMOVED***,MultiPoint:function(n)***REMOVED***n.coordinates.length?n.coordinates.length<2&&(n.type="Point",n.coordinates=n.coordinates[0]):(n.type=null,delete n.coordinates)***REMOVED***,LineString:function(n)***REMOVED***n.coordinates.length||(n.type=null,delete n.coordinates)***REMOVED***,MultiLineString:function(n)***REMOVED***for(var r=n.coordinates,t=0,e=0,o=r.length;t<o;++t)***REMOVED***var a=r[t];a.length&&(r[e++]=a)***REMOVED***e?e<2?(n.type="LineString",n.coordinates=r[0]):n.coordinates.length=e:(n.type=null,delete n.coordinates)***REMOVED***,Polygon:function(n)***REMOVED***for(var r=n.coordinates,t=0,e=0,o=r.length;t<o;++t)***REMOVED***var a=r[t];a.length&&(r[e++]=a)***REMOVED***e?n.coordinates.length=e:(n.type=null,delete n.coordinates)***REMOVED***,MultiPolygon:function(n)***REMOVED***for(var r=n.coordinates,t=0,e=0,o=r.length;t<o;++t)***REMOVED***for(var a=r[t],i=0,c=0,u=a.length;i<u;++i)***REMOVED***var f=a[i];f.length&&(a[c++]=f)***REMOVED***c&&(a.length=c,r[e++]=a)***REMOVED***e?e<2?(n.type="Polygon",n.coordinates=r[0]):r.length=e:(n.type=null,delete n.coordinates)***REMOVED******REMOVED***,R=function(n,r,t)***REMOVED***function e(n)***REMOVED***return n[0]=Math.round((n[0]-i)*l),n[1]=Math.round((n[1]-c)*s),n***REMOVED***function o(n)***REMOVED***for(var r,t,o,a=0,i=1,c=n.length,u=e(n[0]),f=u[0],l=u[1];++a<c;)u=e(n[a]),t=u[0],o=u[1],t===f&&o===l||(r=n[i++],r[0]=f=t,r[1]=l=o);n.length=i***REMOVED***function a(n)***REMOVED***n&&h.hasOwnProperty(n.type)&&h[n.type](n)***REMOVED***var i=r[0],c=r[1],u=r[2],f=r[3],l=u-i?(t-1)/(u-i):1,s=f-c?(t-1)/(f-c):1,h=***REMOVED***GeometryCollection:function(n)***REMOVED***n.geometries.forEach(a)***REMOVED***,Point:function(n)***REMOVED***e(n.coordinates)***REMOVED***,MultiPoint:function(n)***REMOVED***n.coordinates.forEach(e)***REMOVED***,LineString:function(n)***REMOVED***var r=n.coordinates;o(r),r.length<2&&(r[1]=r[0])***REMOVED***,MultiLineString:function(n)***REMOVED***for(var r=n.coordinates,t=0,e=r.length;t<e;++t)***REMOVED***var a=r[t];o(a),a.length<2&&(a[1]=a[0])***REMOVED******REMOVED***,Polygon:function(n)***REMOVED***for(var r=n.coordinates,t=0,e=r.length;t<e;++t)***REMOVED***var a=r[t];for(o(a);a.length<4;)a.push(a[0])***REMOVED******REMOVED***,MultiPolygon:function(n)***REMOVED***for(var r=n.coordinates,t=0,e=r.length;t<e;++t)for(var a=r[t],i=0,c=a.length;i<c;++i)***REMOVED***var u=a[i];for(o(u);u.length<4;)u.push(u[0])***REMOVED******REMOVED******REMOVED***;for(var g in n)a(n[g]);return***REMOVED***scale:[1/l,1/s],translate:[i,c]***REMOVED******REMOVED***,V=function(n,r)***REMOVED***function t(n)***REMOVED***n&&h.hasOwnProperty(n.type)&&h[n.type](n)***REMOVED***function e(n)***REMOVED***var r=[];do***REMOVED***var t=s.get(n);r.push(n[0]<n[1]?t:~t)***REMOVED***while(n=n.next);return r***REMOVED***function o(n)***REMOVED***return n.map(e)***REMOVED***var a=x(T(n)),u=r>0&&a&&R(n,a,r),f=O(F(q(n))),l=f.coordinates,s=L(1.4*f.arcs.length,i,c);n=f.objects,f.bbox=a,f.arcs=f.arcs.map(function(n,r)***REMOVED***return s.set(n,r),l.slice(n[0],n[1]+1)***REMOVED***),delete f.coordinates,l=null;var h=***REMOVED***GeometryCollection:function(n)***REMOVED***n.geometries.forEach(t)***REMOVED***,LineString:function(n)***REMOVED***n.arcs=e(n.arcs)***REMOVED***,MultiLineString:function(n)***REMOVED***n.arcs=n.arcs.map(e)***REMOVED***,Polygon:function(n)***REMOVED***n.arcs=n.arcs.map(e)***REMOVED***,MultiPolygon:function(n)***REMOVED***n.arcs=n.arcs.map(o)***REMOVED******REMOVED***;for(var g in n)t(n[g]);return u&&(f.transform=u,N(f)),f***REMOVED***,B=function(n)***REMOVED***function r(n)***REMOVED***switch(n.type)***REMOVED***case"GeometryCollection":n.geometries.forEach(r);break;case"LineString":t(n.arcs);break;case"MultiLineString":n.arcs.forEach(t);break;case"Polygon":n.arcs.forEach(t);break;case"MultiPolygon":n.arcs.forEach(e)***REMOVED******REMOVED***function t(n)***REMOVED***for(var r=0,t=n.length;r<t;++r)***REMOVED***var e,o=n[r],f=o<0&&(o=~o,!0);null==(e=u[o])&&(u[o]=e=++c,i[e]=a[o]),n[r]=f?~e:e***REMOVED******REMOVED***function e(n)***REMOVED***n.forEach(t)***REMOVED***var o,a=n.arcs,i=n.arcs=[],c=-1,u=new Array(a.length);for(o in n.objects)r(n.objects[o]);return n***REMOVED***,W=function(n,r)***REMOVED***function t(n)***REMOVED***switch(n.type)***REMOVED***case"Polygon":n.arcs=e(n.arcs),n.arcs||(n.type=null,delete n.arcs);break;case"MultiPolygon":n.arcs=n.arcs.map(e).filter(f),n.arcs.length||(n.type=null,delete n.arcs);break;case"GeometryCollection":n.geometries.forEach(t),n.geometries=n.geometries.filter(l),n.geometries.length||(n.type=null,delete n.geometries)***REMOVED******REMOVED***function e(n)***REMOVED***return n.length&&o(n[0])?[n.shift()].concat(n.filter(a)):null***REMOVED***function o(n)***REMOVED***return r(n,!1)***REMOVED***function a(n)***REMOVED***return r(n,!0)***REMOVED***var i;null==r&&(r=u);for(i in n.objects)t(n.objects[i]);return B(n)***REMOVED***,D=function(n)***REMOVED***function r(n)***REMOVED***switch(n.type)***REMOVED***case"GeometryCollection":n.geometries.forEach(r);break;case"Polygon":t(n.arcs);break;case"MultiPolygon":n.arcs.forEach(t)***REMOVED******REMOVED***function t(n)***REMOVED***for(var r=0,t=n.length;r<t;++r,++a)for(var e=n[r],i=0,c=e.length;i<c;++i)***REMOVED***var u=e[i];u<0&&(u=~u);var f=o[u];f>=0&&f!==a?o[u]=-1:o[u]=a***REMOVED******REMOVED***var e,o=***REMOVED******REMOVED***,a=0;for(e in n.objects)r(n.objects[e]);return function(n)***REMOVED***for(var r,t=0,e=n.length;t<e;++t)if(r=n[t],o[r<0?~r:r]<0)return!0;return!1***REMOVED******REMOVED***,H=function(n)***REMOVED***return n***REMOVED***,J=function(n)***REMOVED***if(null==(r=n.transform))return H;var r,t,e,o=r.scale[0],a=r.scale[1],i=r.translate[0],c=r.translate[1];return function(n,r)***REMOVED***return r||(t=e=0),n[0]=(t+=n[0])*o+i,n[1]=(e+=n[1])*a+c,n***REMOVED******REMOVED***,K=function(n)***REMOVED***function r(n)***REMOVED***c[0]=n[0],c[1]=n[1],i(c),c[0]<u&&(u=c[0]),c[0]>l&&(l=c[0]),c[1]<f&&(f=c[1]),c[1]>s&&(s=c[1])***REMOVED***function t(n)***REMOVED***switch(n.type)***REMOVED***case"GeometryCollection":n.geometries.forEach(t);break;case"Point":r(n.coordinates);break;case"MultiPoint":n.coordinates.forEach(r)***REMOVED******REMOVED***var e=n.bbox;if(!e)***REMOVED***var o,a,i=J(n),c=new Array(2),u=1/0,f=u,l=-u,s=-u;n.arcs.forEach(function(n)***REMOVED***for(var r=-1,t=n.length;++r<t;)o=n[r],c[0]=o[0],c[1]=o[1],i(c,r),c[0]<u&&(u=c[0]),c[0]>l&&(l=c[0]),c[1]<f&&(f=c[1]),c[1]>s&&(s=c[1])***REMOVED***);for(a in n.objects)t(n.objects[a]);e=n.bbox=[u,f,l,s]***REMOVED***return e***REMOVED***,Q=function(n,r)***REMOVED***for(var t,e=n.length,o=e-r;o<--e;)t=n[o],n[o++]=n[e],n[e]=t***REMOVED***,X=function(n,r)***REMOVED***return"GeometryCollection"===r.type?***REMOVED***type:"FeatureCollection",features:r.geometries.map(function(r)***REMOVED***return s(n,r)***REMOVED***)***REMOVED***:s(n,r)***REMOVED***,Y=function(n,r)***REMOVED***function t(r)***REMOVED***var t,e=n.arcs[r<0?~r:r],o=e[0];return n.transform?(t=[0,0],e.forEach(function(n)***REMOVED***t[0]+=n[0],t[1]+=n[1]***REMOVED***)):t=e[e.length-1],r<0?[t,o]:[o,t]***REMOVED***function e(n,r)***REMOVED***for(var t in n)***REMOVED***var e=n[t];delete r[e.start],delete e.start,delete e.end,e.forEach(function(n)***REMOVED***o[n<0?~n:n]=1***REMOVED***),c.push(e)***REMOVED******REMOVED***var o=***REMOVED******REMOVED***,a=***REMOVED******REMOVED***,i=***REMOVED******REMOVED***,c=[],u=-1;return r.forEach(function(t,e)***REMOVED***var o,a=n.arcs[t<0?~t:t];a.length<3&&!a[1][0]&&!a[1][1]&&(o=r[++u],r[u]=t,r[e]=o)***REMOVED***),r.forEach(function(n)***REMOVED***var r,e,o=t(n),c=o[0],u=o[1];if(r=i[c])if(delete i[r.end],r.push(n),r.end=u,e=a[u])***REMOVED***delete a[e.start];var f=e===r?r:r.concat(e);a[f.start=r.start]=i[f.end=e.end]=f***REMOVED***else a[r.start]=i[r.end]=r;else if(r=a[u])if(delete a[r.start],r.unshift(n),r.start=c,e=i[c])***REMOVED***delete i[e.end];var l=e===r?r:e.concat(r);a[l.start=e.start]=i[l.end=r.end]=l***REMOVED***else a[r.start]=i[r.end]=r;else r=[n],a[r.start=c]=i[r.end=u]=r***REMOVED***),e(i,a),e(a,i),r.forEach(function(n)***REMOVED***o[n<0?~n:n]||c.push([n])***REMOVED***),c***REMOVED***,Z=function(n)***REMOVED***return h(n,g.apply(this,arguments))***REMOVED***,$=function(n)***REMOVED***return h(n,y.apply(this,arguments))***REMOVED***,nn=function(n,r)***REMOVED***for(var t=0,e=n.length;t<e;)***REMOVED***var o=t+e>>>1;n[o]<r?t=o+1:e=o***REMOVED***return t***REMOVED***,rn=function(n)***REMOVED***function r(n,r)***REMOVED***n.forEach(function(n)***REMOVED***n<0&&(n=~n);var t=o[n];t?t.push(r):o[n]=[r]***REMOVED***)***REMOVED***function t(n,t)***REMOVED***n.forEach(function(n)***REMOVED***r(n,t)***REMOVED***)***REMOVED***function e(n,r)***REMOVED***"GeometryCollection"===n.type?n.geometries.forEach(function(n)***REMOVED***e(n,r)***REMOVED***):n.type in i&&i[n.type](n.arcs,r)***REMOVED***var o=***REMOVED******REMOVED***,a=n.map(function()***REMOVED***return[]***REMOVED***),i=***REMOVED***LineString:r,MultiLineString:t,Polygon:t,MultiPolygon:function(n,r)***REMOVED***n.forEach(function(n)***REMOVED***t(n,r)***REMOVED***)***REMOVED******REMOVED***;n.forEach(e);for(var c in o)for(var u=o[c],f=u.length,l=0;l<f;++l)for(var s=l+1;s<f;++s)***REMOVED***var h,g=u[l],v=u[s];(h=a[g])[c=nn(h,v)]!==v&&h.splice(c,0,v),(h=a[v])[c=nn(h,g)]!==g&&h.splice(c,0,g)***REMOVED***return a***REMOVED***,tn=function(n,r)***REMOVED***function t(n)***REMOVED***n[0]=Math.round((n[0]-i)/c),n[1]=Math.round((n[1]-u)/f)***REMOVED***function e(n)***REMOVED***switch(n.type)***REMOVED***case"GeometryCollection":n.geometries.forEach(e);break;case"Point":t(n.coordinates);break;case"MultiPoint":n.coordinates.forEach(t)***REMOVED******REMOVED***if(!((r=Math.floor(r))>=2))throw new Error("n must be ≥2");if(n.transform)throw new Error("already quantized");var o,a=K(n),i=a[0],c=(a[2]-i)/(r-1)||1,u=a[1],f=(a[3]-u)/(r-1)||1;n.arcs.forEach(function(n)***REMOVED***for(var r,t,e,o=1,a=1,l=n.length,s=n[0],h=s[0]=Math.round((s[0]-i)/c),g=s[1]=Math.round((s[1]-u)/f);o<l;++o)s=n[o],t=Math.round((s[0]-i)/c),e=Math.round((s[1]-u)/f),t===h&&e===g||(r=n[a++],r[0]=t-h,h=t,r[1]=e-g,g=e);a<2&&(r=n[a++],r[0]=0,r[1]=0),n.length=a***REMOVED***);for(o in n.objects)e(n.objects[o]);return n.transform=***REMOVED***scale:[c,f],translate:[i,u]***REMOVED***,n***REMOVED***,en=function(n)***REMOVED***if(null==(r=n.transform))return H;var r,t,e,o=r.scale[0],a=r.scale[1],i=r.translate[0],c=r.translate[1];return function(n,r)***REMOVED***r||(t=e=0);var u=Math.round((n[0]-i)/o),f=Math.round((n[1]-c)/a);return n[0]=u-t,t=u,n[1]=f-e,e=f,n***REMOVED******REMOVED***,on=function(n,r,t)***REMOVED***return r=null==r?Number.MIN_VALUE:+r,null==t&&(t=m),function(e,o)***REMOVED***return t(X(n,***REMOVED***type:"Polygon",arcs:[e]***REMOVED***).geometry.coordinates[0],o)>=r***REMOVED******REMOVED***,an=function()***REMOVED***function n(n,r)***REMOVED***for(;r>0;)***REMOVED***var t=(r+1>>1)-1,o=e[t];if(b(n,o)>=0)break;e[o._=r]=o,e[n._=r=t]=n***REMOVED******REMOVED***function r(n,r)***REMOVED***for(;;)***REMOVED***var t=r+1<<1,a=t-1,i=r,c=e[i];if(a<o&&b(e[a],c)<0&&(c=e[i=a]),t<o&&b(e[t],c)<0&&(c=e[i=t]),i===r)break;e[c._=r]=c,e[n._=r=i]=n***REMOVED******REMOVED***var t=***REMOVED******REMOVED***,e=[],o=0;return t.push=function(r)***REMOVED***return n(e[r._=o]=r,o++),o***REMOVED***,t.pop=function()***REMOVED***if(!(o<=0))***REMOVED***var n,t=e[0];return--o>0&&(n=e[o],r(e[n._=0]=n,0)),t***REMOVED******REMOVED***,t.remove=function(t)***REMOVED***var a,i=t._;if(e[i]===t)return i!==--o&&(a=e[o],(b(a,t)<0?n:r)(e[a._=i]=a,i)),i***REMOVED***,t***REMOVED***,cn=function(n,r)***REMOVED***function t(n)***REMOVED***a.remove(n),n[1][2]=r(n),a.push(n)***REMOVED***var e=J(n),o=en(n),a=an();return null==r&&(r=d),n.arcs.forEach(function(n)***REMOVED***var i,c,u,f=[],l=0;for(n.forEach(e),c=1,u=n.length-1;c<u;++c)i=n.slice(c-1,c+2),i[1][2]=r(i),f.push(i),a.push(i);for(n[0][2]=n[u][2]=1/0,c=0,u=f.length;c<u;++c)i=f[c],i.previous=f[c-1],i.next=f[c+1];for(;i=a.pop();)***REMOVED***var s=i.previous,h=i.next;i[1][2]<l?i[1][2]=l:l=i[1][2],s&&(s.next=h,s[2]=i[2],t(s)),h&&(h.previous=s,h[0]=i[0],t(h))***REMOVED***n.forEach(o)***REMOVED***),n***REMOVED***,un=function(n,r)***REMOVED***var t=[];return n.arcs.forEach(function(n)***REMOVED***n.forEach(function(n)***REMOVED***isFinite(n[2])&&t.push(n[2])***REMOVED***)***REMOVED***),t.length&&E(t.sort(M),r)***REMOVED***,fn=function(n,r)***REMOVED***return r=null==r?Number.MIN_VALUE:+r,n.arcs.forEach(n.transform?function(n)***REMOVED***for(var t,e,o=0,a=0,i=-1,c=-1,u=n.length;++i<u;)t=n[i],t[2]>=r?(e=n[++c],e[0]=t[0]+o,e[1]=t[1]+a,o=a=0):(o+=t[0],a+=t[1]);n.length=++c***REMOVED***:function(n)***REMOVED***for(var t,e=-1,o=-1,a=n.length;++e<a;)t=n[e],t[2]>=r&&(n[++o]=t);n.length=++o***REMOVED***),n.arcs.forEach(n.transform?function(n)***REMOVED***var r=0,t=0,e=n.length,o=n[0];for(o.length=2;++r<e;)o=n[r],o.length=2,(o[0]||o[1])&&(n[++t]=o);n.length=(t||1)+1***REMOVED***:function(n)***REMOVED***var r,t,e=0,o=0,a=n.length,i=n[0],c=i[0],u=i[1];for(i.length=2;++e<a;)i=n[e],r=i[0],t=i[1],i.length=2,c===r&&u===t||(n[++o]=i,c=r,u=t);n.length=(o||1)+1***REMOVED***),n***REMOVED***,ln=Math.PI,sn=2*ln,hn=4*ln,gn=ln/180,vn=Math.abs,pn=Math.atan,yn=Math.atan2,dn=Math.cos,mn=Math.max,bn=Math.sin,En=Math.sqrt,Mn=Math.tan;n.topology=V,n.filter=W,n.filterAttached=D,n.filterWeight=on,n.planarRingArea=m,n.planarTriangleArea=d,n.presimplify=cn,n.quantile=un,n.simplify=fn,n.sphericalRingArea=P,n.sphericalTriangleArea=w,n.bbox=K,n.feature=X,n.merge=$,n.mergeArcs=y,n.mesh=Z,n.meshArcs=g,n.neighbors=rn,n.quantize=tn,n.transform=J,n.untransform=en,Object.defineProperty(n,"__esModule",***REMOVED***value:!0***REMOVED***)***REMOVED***);
